<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gci.schedule.driverless.dynamic.mapper.ScheduleParamsSingleDynamicMapper">
    <resultMap id="BaseResultMap" type="com.gci.schedule.driverless.dynamic.bean.ScheduleParamsSingle">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Mon Apr 22 13:58:59 CST 2019.
        -->
        <result column="ROUTE_ID" jdbcType="DECIMAL" property="routeId"/>
        <result column="STOP_BEGIN_TIME" jdbcType="VARCHAR" property="stopBeginTime"/>
        <result column="STOP_END_TIME" jdbcType="VARCHAR" property="stopEndTime"/>
        <result column="RUN_BEGIN_TIME" jdbcType="VARCHAR" property="runBeginTime"/>
        <result column="END_BEGIN_TIME" jdbcType="VARCHAR" property="endBeginTime"/>
        <result column="EARLIEST_BUS_NUMBER" jdbcType="DECIMAL" property="earliestBusNumber"/>
        <result column="STOP_BEGIN_TIME_DATE" jdbcType="TIMESTAMP" property="stopBeginTimeDate"/>
        <result column="STOP_END_TIME_DATE" jdbcType="TIMESTAMP" property="stopEndTimeDate"/>
        <result column="RUN_BEGIN_TIME_DATE" jdbcType="TIMESTAMP" property="runBeginTimeDate"/>
        <result column="END_BEGIN_TIME_DATE" jdbcType="TIMESTAMP" property="endBeginTimeDate"/>
        <result column="UP_BUS_COUNT" jdbcType="INTEGER" property="upBusCount"/>
        <result column="DOWN_BUS_COUNT" jdbcType="INTEGER" property="downBusCount"/>
        <result column="MINIMUM_REST_TIME" jdbcType="INTEGER" property="minimumRestTime"/>
    </resultMap>

    <resultMap id="shiftResultMap" type="com.gci.schedule.driverless.dynamic.bean.ScheduleParamShift">
        <result column="ROUTE_ID" property="routeId"/>
        <result column="TEMPLATE_ID" property="templateId"/>
        <result column="SHIFT_TYPE" property="shiftType"/>
        <result column="SHIFT_NAME" property="shiftName"/>
        <result column="ORDER_NUMBER" property="orderNumber"/>
        <result column="START_TIME" property="startTime"/>
        <result column="END_TIME" property="endTime"/>
        <result column="UPDATE_USER" property="updateUser"/>
        <result column="UPDATE_TIME" property="updateTime"/>
    </resultMap>

    <select id="getByTemplateId" resultMap="BaseResultMap" parameterType="map">
        select * from BS_SCHEDULE_PARAMS_SINGLE where template_id = #{templateId, jdbcType=VARCHAR}
    </select>

    <select id="getShiftByTemplateId" resultMap="shiftResultMap">
        select * from bs_schedule_params_shift where template_id=#{templateId}
    </select>

</mapper>